<h2>Favorites</h2>
<div class="well col-lg-6 favorites" ng-repeat="ps in favorites">
    <h3><a href="#" ng-click="navigateToDetail(ps)">{{ps.meta.service.meta.hostname}}</a> {{ps.meta.service.host}}</h3>
    <span ng-click="toggleFavorite(ps)" class="glyphicon glyphicon-heart favorite-{{isFavorite(ps)}}"></span>
	<span>{{ps.id}}</span>
	<p>Frontends</p>
	<ul>
		<li ng-repeat="(id, fe) in ps.getFrontends()" ng-init="stats=ps.getFrontendStatus(fe.name)">
			{{fe.name}} [{{stats.status}}] {{fe.bind}} -> {{fe.backend}}<br/>
			connections: current: {{stats.connections.current}}, max: {{stats.connections.max}} <br/> 
		</li>
	</ul>
	<p>Backends</p>
	<ul>
		<li ng-repeat="(id, be) in ps.getBackends()" ng-init="stats=ps.getBackendStatus(be.name)">
			{{be.name}} [{{stats.status}}]  - {{ps.getBackendMemberHealthCount(be.name)}}/{{be.members.length}}
			<span ng-switch on="be.type">
				<span ng-switch-when="spindrift">{{be.role}}@{{be.version}}</span>
				<span ng-switch-when="static">static</span>
			</span>
			<br/>
			connections: current: {{stats.connections.current}}, max: {{stats.connections.max}} <br/> 
		</li>
	</ul>
</div>